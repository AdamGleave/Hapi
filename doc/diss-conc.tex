\chapter{Conclusions}

This dissertation has described the implementation and evaluation of high-performance flow solvers. As far as I am aware, both the approximate and incremental solvers are the first of their kind. The incremental solver outperforms state of the art implementations by an order of magnitude, achieving sub-second scheduling latency on the largest clusters used today. I found approximation to be unsuitable for flow scheduling, however the results are promising for its use in other domains.

\section{Achievements}

I have exceeded the initial project requirements by developing an incremental solver, in addition to the core requirement of an approximate solver. Furthermore, I have significantly extended Firmament to complete my evaluation, including adding support for the Quincy cost model.

The incremental solver has broken new ground, with no comparable published work. This implementation has direct real-world applicability, allowing flow schedulers to compete with traditional heuristic approaches on scheduling latency. Further research is required to develop flow schedulers into a finished product; however, early results suggest significant gains in performance and efficiency of data centres can be realised~\cite{Schwarzkopf:2015}.

% Problem: want to state figures to show how successful it is, but they're already on the page next to it! You may want to add the figures back in if you add more sections to your eval, pushing conclusion further away.

I believe this is also the first investigation into approximate solution methods for the (single-commodity) minimum-cost flow problem. Although I found approximation to be of limited use for flow scheduling, considerable performance gains of over $10\times$ are realised on other classes of networks. Furthermore, the cost of the solutions is very close to the minimum, with mean accuracy above 98.9\% in all cases. Consequently, I would anticipate approximation to be useful in a variety of other applications, where speed is more important than strict optimality.

\section{Lessons learnt}

It was necessary to assimilate the large body of existing research into flow problems before I could attempt to improve upon it. Although I enjoyed studying the area, I underestimated the amount of time this preparatory work would take. In retrospect, I perhaps started implementation work too early, and should have waited until I had a firm understanding of the field.

\section{Further work}

The project is complete in the sense that it satisfies the requirements outlined in my project proposal (see \cref{appendix:proposal}). However, there is scope both to improve the solvers, and to further investigate their performance:

\begin{itemize}
    \item \textbf{New incremental solvers:} it may be possible to adapt the network simplex algorithm to operate incrementally. Although this appears to be considerably more challenging than the modifications required for augmenting path algorithms, if successful it could yield a still greater speedup.
    \item \textbf{Approximation heuristics:} the terminating conditions, cost convergence and task migration convergence, are relatively simplistic. More sophisticated approaches may improve the reliability of the algorithm, and achieve speedups closer to that of the oracle policy.
    \item \textbf{Other applications:} the focus of this project was on flow scheduling, however flow problems arise in a wide range of domains. The approximation method seems to be very generally applicable, as explained above: I would like to conduct a more thorough investigation into its performance in other domains. 
    %Incremental solution is applicable to any problem producing flow networks in a time-series. I am not aware of any such problem besides flow scheduling, however I would like to verify there are none I have overlooked.
\end{itemize}

My incremental solver has made a key contribution to the Firmament system, enabling it to scale to large clusters. I plan to work with my supervisors to refine my work, including a description of the incremental technique in forthcoming papers on Firmament. In addition, I hope to publish a general version of these results, so that those working in other application areas can benefit from this work.